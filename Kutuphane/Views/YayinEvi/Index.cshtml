@section Styles{
    <link href="//cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
}
<a id="btnEkle" class="btn btn-primary">EKLE</a>
<table id="tblYayinEvi" class="table table-striped">
</table>

<div class="modal fade" id="modalEkle" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitleId">Yazar Ekleme Formu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="text" id="txtYayinAd" class="form-control frmInput" placeholder="Lütfen yayın evi adını giriniz" /><br />
                <input type="text" id="txtYayinAdres" class="form-control frmInput" placeholder="Lütfen yayin evi adres giriniz" /><br />
                <input type="text" id="txtYayinTel" class="form-control frmInput" placeholder="Lütfen yayin telefon giriniz" /><br />

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">İptal</button>
                <a id="btnKaydet" class="btn btn-primary">Kaydet</a>
            </div>
        </div>
    </div>
</div>

<script>


</script>

@section Scripts{
    <script src="//cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script>
        var DataTable;
        $(document).ready(function(){
            DataTable = $("#tblYayinEvi").DataTable({
                ajax:"/YayinEvi/GetAll",
                columns:[
                    {data:"id",title:"Yayın Evi ID"},
                    {data:"ad",title:"Yayın Evi Adı"},
                    {data:"adres",title:"Yayın Evi Adres"},
                    {data:"tel",title:"Yayın Evi Telefon"}
                ]
            })
        })

      
            $("#btnEkle").click(function(){
                $("#modalEkle").modal("show")
            $(".frmInput").val("")
            $("#btnKaydet").click(function(){
                let gonderilecekVeri={
                    ad:$("#txtYayinAd").val(),
                    adres:$("#txtYayinAdres").val(),
                    tel: $("#txtYayinTel").val()

                }
                $.ajax({
                    type:"POST",
                    url:"/YayinEvi/Upsert",
                    success:function(){
                        $('#modalEkle').modal('hide');
                        toastr.success("Kayıt başarıyla eklenmiştir", "BAŞARILI !");
                        DataTable.ajax.reload();
                    }
                })
            })
            })
       

    </script>
}